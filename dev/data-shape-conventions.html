<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data shape conventions :: SEMIC Style Guide RDF Validator</title>
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../_/css/site.css">
    <link rel="icon" href="../favicon.ico" type="image/x-icon">  </head>
  <body class="article">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="..">
            </a>
        </div>
    </nav>
<nav class="navbar">
    <div class="navbar-brand">
    <img src="../_/img/semic-logo.png" class="logo" />
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs" >
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="dev">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">SEMIC Style Guide RDF Validator</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="semantic-conventions.html">Semantic Conventions</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="data-shape-conventions.html">Data Shape Conventions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="publication-conventions.html">Publication Conventions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="conceptual-model-conventions.html">Conceptual Model Conventions</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">SEMIC Style Guide RDF Validator</span>
    <span class="version">dev</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="index.html">SEMIC Style Guide RDF Validator</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">dev</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">SEMIC Style Guide RDF Validator</a></li>
    <li><a href="data-shape-conventions.html">Data Shape Conventions</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="https://github.com/meaningfy-ws/semic-styleguide-rdf-validator/edit/feature/SM15-116/docs/docs/modules/ROOT/pages/data-shape-conventions.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Data shape conventions</h1>
<div class="sect1">
<h2 id="sec:dss-r1"><a class="anchor" href="#sec:dss-r1"></a>Data shape language choice</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #a8c6f7;"><p class="tableblock"> <strong>Title:</strong> Data shape language choice</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock">
<strong>Identifier</strong>  <a href="https://semiceu.github.io/style-guide/1.0.0/gc-data-shape-conventions.html#sec:dsc-r1">DSC-R1</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Statement:</strong></p>
<p class="tableblock">The data shapes shall be expressed in SHACL.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Checkable:</strong> Yes, partially</p>
</div>
<div class="paragraph">
<p>Validating that a Shapes file is indeed a SHACL Shapes file may perhaps be the subject of a syntax checker or <a href="https://www.itb.ec.europa.eu/shacl/shacl/upload">another validation profile</a>. It raises the question of whether to accommodate shape declarations and class definitions in the same file/graph, and also declaration styles where a class is also a shape (class extended shapes, which is in turn a subject of <a href="https://semiceu.github.io/style-guide/1.0.0/gc-data-shape-conventions.html#sec:dsc-r4">DSC-R4</a>). Furthermore, a SHACL file is by extension also an OWL file. We can employ basic checks to ensure resource types are from either vocabulary, and that there exists at least one SHACL resource.</p>
</div>
<div class="sect2">
<h3 id="_only_shacl_and_owl_resource_types"><a class="anchor" href="#_only_shacl_and_owl_resource_types"></a>Only SHACL and OWL resource types</h3>
<div class="paragraph">
<p><strong>Shapes File:</strong>  <a href="https://github.com/meaningfy-ws/semic-styleguide-rdf-validator/blob/main/shapes/shacl/shape_declarations_exist.shacl.ttl">shape_declarations_exist.shacl.ttl</a></p>
</div>
<div class="paragraph">
<p><strong>Shape Description(s):</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>A node shape targeting all subjects of <code>rdf:type</code> with a property membership restriction to both the set of primary OWL and SHACL types</p>
<div class="ulist">
<ul>
<li>
<p><strong>Non-Compliance Severity:</strong> Violation</p>
</li>
<li>
<p><strong>Non-Compliance Message(s):</strong></p>
<div class="ulist">
<ul>
<li>
<p><code>Violation of SEMIC rule DSC-R1: Only SHACL (and OWL) class and property declarations shall be used</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>A node shape targeting the class <code>sh:NodeShape</code> with a restriction on the inverse of the propery <code>rdf:type</code> and <code>minCount=1</code> (effectively saying there must be at least one instance of it)</p>
<div class="ulist">
<ul>
<li>
<p><strong>Non-Compliance Severity:</strong> Violation</p>
</li>
<li>
<p><strong>Non-Compliance Message(s):</strong></p>
<div class="ulist">
<ul>
<li>
<p><code>Violation of SEMIC rule DSC-R1: SHACL shape declarations shall exist</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:dsc-r2"><a class="anchor" href="#sec:dsc-r2"></a>Loose versus rigid constraints</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #a8c6f7;"><p class="tableblock"> <strong>Title:</strong> Loose versus rigid constraints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Identifier</strong> <a href="https://semiceu.github.io/style-guide/1.0.0/gc-data-shape-conventions.html#sec:dsc-r2">DSC-R2</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Statement:</strong></p>
<p class="tableblock">In a Core Vocabulary, then the data shape constraints shall be as loose as possible, i.e., permissive, while in an Application Profile, the data shape constraints shall be as rigid as necessary, i.e. restrictive.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Checkable:</strong> No</p>
</div>
<div class="paragraph">
<p>It is not possible to verify whether a vocabulary is a component of an Application Profile (AP). To implement such a check, options need to be provided, such as specifying an AP for validation. Nevertheless, identifying violations in shapes that adhere to or deviate from the AP will pose a challenge.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:dsc-r3"><a class="anchor" href="#sec:dsc-r3"></a>Open and Closed world assumptions</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #a8c6f7;"><p class="tableblock"> <strong>Title:</strong> Open and Closed world assumptions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Identifier</strong> <a href="https://semiceu.github.io/style-guide/1.0.0/gc-data-shape-conventions.html#sec:dsc-r3">DSC-R3</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Statement:</strong></p>
<p class="tableblock">The data instantiating a core model may be fragmented across information systems. For representation purposes, open-world
assumptions shall be adopted, and for validation purposes, a closed-world assumption shall be adopted.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Checkable:</strong> No</p>
</div>
<div class="paragraph">
<p>The open vs. closed world assumption is not easily verified in an automated manner. The conventions do not clearly articulate how this affects large ontologies, such as ePO.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:dsc-r4"><a class="anchor" href="#sec:dsc-r4"></a>Shape definitions</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #a8c6f7;"><p class="tableblock"> <strong>Title:</strong> Shape definitions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Identifier</strong> <a href="https://semiceu.github.io/style-guide/1.0.0/gc-data-shape-conventions.html#sec:dsc-r4">DSC-R4</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Statement:</strong></p>
<p class="tableblock">Each ontology class shall be mirrored by a <code>sh:NodeShape</code>. The property constraints may be embedded (contextualised) within node shapes or defined as freestanding.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Checkable:</strong> Yes, partially</p>
</div>
<div class="paragraph">
<p>The gist of the rule is two-fold: (i) every class must have a corresponding shape and (ii) property constraints can be "freestanding" or not. SEMIC does not make clear if the latter is to be recommended or avoided. The former would normally not be implementable, as <em>we validate SHACL and OWL independently</em>, but an idea for the future is to allow (provide an option for) a combined validation of both OWL and SHACL. There are other subrules, and one clearly implementable is that of avoiding class extended shapes (i.e. a shape that is also a class).</p>
</div>
<div class="sect2">
<h3 id="_avoid_shapes_that_are_extended_from_classes"><a class="anchor" href="#_avoid_shapes_that_are_extended_from_classes"></a>Avoid shapes that are extended from classes</h3>
<div class="paragraph">
<p><strong>Shapes File:</strong> : <a href="https://github.com/meaningfy-ws/semic-styleguide-rdf-validator/blob/main/shapes/shacl/avoid_class_extension.shacl.ttl">avoid_class_extension.shacl.ttl</a></p>
</div>
<div class="paragraph">
<p><strong>Shape Description(s):</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>A node shape targeting the class <code>sh:NodeShape</code> with a property value type membership restriction to <code>sh:NodeShape</code> (effectively saying this is by no means an extended shape of any kind - not just OWL class)</p>
<div class="ulist">
<ul>
<li>
<p><strong>Non-Compliance Severity:</strong> Warning</p>
</li>
<li>
<p><strong>Non-Compliance Message(s):</strong></p>
<div class="ulist">
<ul>
<li>
<p>Non-observance of SEMIC rule DSC-R4: Avoid classes extended as node shapes.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:dsc-r5"><a class="anchor" href="#sec:dsc-r5"></a>Data shape severity</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #a8c6f7;"><p class="tableblock"> <strong>Title:</strong> Data shape severity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Identifier</strong> <a href="https://semiceu.github.io/style-guide/1.0.0/gc-data-shape-conventions.html#sec:dsc-r5">DSC-R5</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color:  #f5f8fc;"><p class="tableblock"><strong>Statement:</strong></p>
<p class="tableblock">It is recommended to use constraint severity for distinguishing critical violations from non-critical recommendation warnings and from nice-to-have information.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Checkable:</strong> Yes</p>
</div>
<div class="paragraph">
<p>This is a rule which has syntax implications and therefore may be covered more extensively by a <a href="https://www.itb.ec.europa.eu/shacl/shacl/upload">validator using a syntax profile</a>.</p>
</div>
<div class="sect2">
<h3 id="_explicit_declaration_of_severity"><a class="anchor" href="#_explicit_declaration_of_severity"></a>Explicit declaration of severity</h3>
<div class="paragraph">
<p><strong>Shapes File:</strong> <a href="https://github.com/meaningfy-ws/semic-styleguide-rdf-validator/blob/main/shapes/shacl/severity_declaration_exists.shacl.ttl">severity_declaration_exists.shacl.ttl</a></p>
</div>
<div class="paragraph">
<p><strong>Shape Description(s):</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>A node shape targeting the class <code>sh:NodeShape</code> with a restriction of XONE (exactly or "exclusively one of") on two sets of property shapes: one on the property <code>sh:severity</code> with exact cardinality 1, and another on the sequence of properties <code>(sh:property sh:severity)</code> with exact cardinality 1, referring to any related property shape (effectively saying check that either one of these situations must exist).</p>
<div class="ulist">
<ul>
<li>
<p><strong>Non-Compliance Severity:</strong> Warning</p>
</li>
<li>
<p><strong>Non-Compliance Message(s):</strong></p>
<div class="ulist">
<ul>
<li>
<p><code>Non-observation of SEMIC rule DSC-R5: Data shapes should be assigned a level of severity</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
    <p style="text-align:center">This document is created by the European Commission and is licensed under the terms of
        EUPL-1.2 license</a>.
        <br/>This page was built using the Antora default UI. The source code for this UI is licensed under the terms of
        the MPL-2.0 license.
    </p>

        <script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="150" data-stylesheet="../_/css/search.css"></script>
<script async src="../search-index.js"></script>
</footer>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="150" data-stylesheet="../_/css/search.css"></script>
<script async src="../search-index.js"></script>
  </body>
</html>
